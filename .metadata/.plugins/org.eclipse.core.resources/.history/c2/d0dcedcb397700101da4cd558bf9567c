package com.phoneworld.mobileinventory.app;

import com.phoneworld.mobileinventory.dao.MobileDao;
import com.phoneworld.mobileinventory.entity.Mobile;

import java.util.List;

public class MobileDriver {

    public static void main(String[] args) {

        MobileDao dao = new MobileDao();

        // Add mobiles (no mobileId, auto-generated)
        dao.addMobile(new Mobile("Xiaomi", "Redmi Note 11", 18000, 64));
        dao.addMobile(new Mobile("Samsung", "Galaxy M12", 13000, 64));
        dao.addMobile(new Mobile("Infinix", "Hot 12", 25000, 128));
        dao.addMobile(new Mobile("Motorola", "G31", 15000, 64));

        // READ by ID (try existing ID or newly added ID)
        Mobile mobile = dao.getMobileById(1);
        if (mobile != null) {
            System.out.println("Found Mobile: " + mobile.getBrand() + " " + mobile.getModel() + ", Price: " + mobile.getPrice() + ", Storage: " + mobile.getStorage() + "GB");
        } else {
            System.out.println("No mobile found with given ID");
        }

        // UPDATE example (assuming mobile != null)
        if (mobile != null) {
            mobile.setPrice(67999);
            dao.updateMobile(mobile);
        }

        // READ all
        List<Mobile> mobiles = dao.getAllMobiles();
        System.out.println("\nAll Mobiles in DB:");
        for (Mobile m : mobiles) {
            System.out.println(m.getMobileId() + " | " + m.getBrand() + " | " + m.getModel() + " | " + m.getPrice() + " | " + m.getStorage() + "GB");
        }

        // DELETE example
        // dao.deleteMobile(1);

        dao.close();
    }
}

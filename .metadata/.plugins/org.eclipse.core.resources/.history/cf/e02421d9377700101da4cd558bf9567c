package com.phoneworld.mobileinventory.app;

import com.phoneworld.mobileinventory.dao.MobileDao;
import com.phoneworld.mobileinventory.entity.Mobile;

import java.util.List;

public class MobileDriver {

    public static void main(String[] args) {

        MobileDao dao = new MobileDao();

        // CREATE
         //dao.addMobile(new Mobile(3, "Samsung", "Galaxy S23", 69999, 128));
        
        dao.addMobile(new Mobile(4, "Xiaomi", "Redmi Note 11", 18000, "Snapdragon 680", 64));
        dao.addMobile(new Mobile(5 "Realme", "Narzo 50", 22000, "MediaTek Helio G96", 128));
        dao.addMobile(new Mobile(6, "Samsung", "Galaxy M12", 13000, "Exynos 850", 64));
        dao.addMobile(new Mobile(7, "Infinix", "Hot 12", 25000, "MediaTek Helio G85", 128));
        dao.addMobile(new Mobile(8, "Motorola", "G31", 15000, "MediaTek Helio G85", 64));


        // READ by ID
        Mobile mobile = dao.getMobileById(1);
        if (mobile != null) {
            System.out.println("Found Mobile: " + mobile.getBrand() + " " + mobile.getModel() + ", Price: " + mobile.getPrice() + ", Storage: " + mobile.getStorage() + "GB");
        } else {
            System.out.println("No mobile found with given ID");
        }

        // UPDATE
        if (mobile != null) {
            mobile.setPrice(67999);
            dao.updateMobile(mobile);
        }

        // READ all
        List<Mobile> mobiles = dao.getAllMobiles();
        System.out.println("\nAll Mobiles in DB:");
        for (Mobile m : mobiles) {
            System.out.println(m.getMobileId() + " | " + m.getBrand() + " | " + m.getModel() + " | " + m.getPrice() + " | " + m.getStorage() + "GB");
        }

        // DELETE
        // dao.deleteMobile(1);

        dao.close();
    }
}
